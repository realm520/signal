version: '3.8'

services:
  signal:
    build: .
    container_name: signal-monitor
    restart: unless-stopped
    volumes:
      # Mount your config file
      - ./config.yaml:/app/config.yaml:ro
      # Mount logs directory for persistence
      - ./logs:/app/logs
    environment:
      # Optional: Override with environment variable
      - LARK_WEBHOOK_URL=${LARK_WEBHOOK_URL:-}
    # Resource limits (optional)
    deploy:
      resources:
        limits:
          cpus: '1'
          memory: 512M
        reservations:
          cpus: '0.5'
          memory: 256M
